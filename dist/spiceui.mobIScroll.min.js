!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=7)}([function(e,t){},function(e,t,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n(0);var i=$.spiceMobIScroll,o=new Date,s={startYear:o.getFullYear()-100,endYear:o.getFullYear()+1,shortYearCutoff:"+10",showNow:!1,stepHour:1,stepMinute:1,stepSecond:1,separator:" ",en:{},zh:{dateFormat:"yy-mm-dd",dateOrder:"yymmdd",dayNames:["周日","周一","周二","周三","周四","周五","周六"],dayNamesShort:["日","一","二","三","四","五","六"],hourText:"时",minuteText:"分",monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],yearText:"年",monthText:"月",dayText:"日",secText:"秒",timeFormat:"HH:ii",timeWheels:"HHii",ampmText:"&nbsp;",nowText:"现在"},i18n:"zh"},r=function(e){function t(e,t,n){return void 0!==x[t]?+e[x[t]]:void 0!==n?n:H[T[t]]?H[T[t]]():T[t](H)}function n(e,t){return Math.floor(e/t)*t}function a(e){var t=e.getHours();return t=I&&t>=12?t-12:t,n(t,A)}function o(e){return n(e.getMinutes(),F)}function r(e){return n(e.getSeconds(),O)}function l(e){return C&&e.getHours()>11?1:0}function d(e){var n=t(e,"h",0);return new Date(t(e,"y"),t(e,"m"),t(e,"d",1),t(e,"a")?n+12:n,t(e,"i",0),t(e,"s",0))}var c,u=$(this),f={};if(u.is("input")){switch(u.attr("type")){case"date":c="yy-mm-dd";break;case"datetime":c="yy-mm-ddTHH:ii:ssZ";break;case"datetime-local":c="yy-mm-ddTHH:ii:ss";break;case"month":c="yy-mm",f.dateOrder="mmyy";break;case"time":c="HH:ii:ss"}var h=u.attr("min"),p=u.attr("max");h&&(f.minDate=i.parseDate(c,h)),p&&(f.maxDate=i.parseDate(c,p))}var w,m,v=$.extend({},s,f,e.settings),b=0,y=[],g=[],x={},T={y:"getFullYear",m:"getMonth",d:"getDate",h:a,i:o,s:r,a:l},D=v.preset,S=v[v.i18n].dateOrder,M=v[v.i18n].timeWheels,k=S.match(/D/),C=M.match(/a/i),I=M.match(/h/),Y="datetime"==D?v[v.i18n].dateFormat+v.separator+v[v.i18n].timeFormat:"time"==D?v[v.i18n].timeFormat:v[v.i18n].dateFormat,H=new Date,A=v.stepHour,F=v.stepMinute,O=v.stepSecond,N=v.minDate||new Date(v.startYear,0,1),V=v.maxDate||new Date(v.endYear,11,31,23,59,59);if(e.settings=v,c=c||Y,D.match(/date/i)){$.each(["y","m","d"],function(e,t){(w=S.search(new RegExp(t,"i")))>-1&&g.push({o:w,v:t})}),g.sort(function(e,t){return e.o>t.o?1:-1}),$.each(g,function(e,t){x[t.v]=e});var W={};for(m=0;m<3;m++)if(m==x.y){b++,W[v[v.i18n].yearText]={};var j=N.getFullYear(),P=V.getFullYear();for(w=j;w<=P;w++)W[v[v.i18n].yearText][w]=S.match(/yy/i)?w:(w+"").substr(2,2)}else if(m==x.m)for(b++,W[v[v.i18n].monthText]={},w=0;w<12;w++){var R=S.replace(/[dy]/gi,"").replace(/mm/,w<9?"0"+(w+1):w+1).replace(/m/,w+1);W[v[v.i18n].monthText][w]=R.match(/MM/)?R.replace(/MM/,'<span class="dw-mon">'+v[v.i18n].monthNames[w]+"</span>"):R.replace(/M/,'<span class="dw-mon">'+v[v.i18n].monthNamesShort[w]+"</span>")}else if(m==x.d)for(b++,W[v[v.i18n].dayText]={},w=1;w<32;w++)W[v[v.i18n].dayText][w]=S.match(/dd/i)&&w<10?"0"+w:w;y.push(W)}if(D.match(/time/i)){for(g=[],$.each(["h","i","s","a"],function(e,t){(e=M.search(new RegExp(t,"i")))>-1&&g.push({o:e,v:t})}),g.sort(function(e,t){return e.o>t.o?1:-1}),$.each(g,function(e,t){x[t.v]=b+e}),W={},m=b;m<b+4;m++)if(m==x.h)for(b++,W[v[v.i18n].hourText]={},w=0;w<(I?12:24);w+=A)W[v[v.i18n].hourText][w]=I&&0==w?12:M.match(/hh/i)&&w<10?"0"+w:w;else if(m==x.i)for(b++,W[v[v.i18n].minuteText]={},w=0;w<60;w+=F)W[v[v.i18n].minuteText][w]=M.match(/ii/)&&w<10?"0"+w:w;else if(m==x.s)for(b++,W[v[v.i18n].secText]={},w=0;w<60;w+=O)W[v[v.i18n].secText][w]=M.match(/ss/)&&w<10?"0"+w:w;else if(m==x.a){b++;var L=M.match(/A/);W[v.ampmText]={0:L?"AM":"am",1:L?"PM":"pm"}}y.push(W)}return e.setDate=function(e,t,n,a){var i;for(i in x)this.temp[x[i]]=e[T[i]]?e[T[i]]():T[i](e);this.setValue(!0,t,n,a)},e.getDate=function(e){return d(e)},{button3Text:v.showNow?v.nowText:void 0,button3:v.showNow?function(){e.setDate(new Date,!1,.3,!0)}:void 0,wheels:y,onClose:function(){setTimeout(function(){u.blur()},0)},headerText:function(t){return i.formatDate(Y,d(e.temp),v)},formatResult:function(e){return i.formatDate(c,d(e),v)},parseValue:function(e){var t,n=new Date,a=[];try{n=i.parseDate(c,e,v)}catch(e){}for(t in x)a[x[t]]=n[T[t]]?n[T[t]]():T[t](n);return a},validate:function(a,i){var o=e.temp,s={y:N.getFullYear(),m:0,d:1,h:0,i:0,s:0,a:0},r={y:V.getFullYear(),m:11,d:31,h:n(I?11:23,A),i:n(59,F),s:n(59,O),a:1},l=!0,d=!0;$.each(["y","m","d","a","h","i","s"],function(e,n){if(void 0!==x[n]){var i,c,u=s[n],f=r[n],h=31,p=t(o,n),w=$(".dw-ul",a).eq(x[n]);if("d"==n&&(i=t(o,"y"),c=t(o,"m"),h=32-new Date(i,c,32).getDate(),f=h,k&&$(".dw-li",w).each(function(){var e=$(this),t=e.data("val"),n=new Date(i,c,t).getDay(),a=S.replace(/[my]/gi,"").replace(/dd/,t<10?"0"+t:t).replace(/d/,t);$(".dw-i",e).html(a.match(/DD/)?a.replace(/DD/,'<span class="dw-day">'+v[v.i18n].dayNames[n]+"</span>"):a.replace(/D/,'<span class="dw-day">'+v[v.i18n].dayNamesShort[n]+"</span>"))})),l&&N&&(u=N[T[n]]?N[T[n]]():T[n](N)),d&&V&&(f=V[T[n]]?V[T[n]]():T[n](V)),"y"!=n){var m=$(".dw-li",w).index($('.dw-li[data-val="'+u+'"]',w)),b=$(".dw-li",w).index($('.dw-li[data-val="'+f+'"]',w));$(".dw-li",w).removeClass("dw-v").slice(m,b+1).addClass("dw-v"),"d"==n&&$(".dw-li",w).removeClass("dw-h").slice(h).addClass("dw-h")}if(p<u&&(p=u),p>f&&(p=f),l&&(l=p==u),d&&(d=p==f),v.invalid&&"d"==n){var y=[];if(v.invalid.dates&&$.each(v.invalid.dates,function(e,t){t.getFullYear()==i&&t.getMonth()==c&&y.push(t.getDate()-1)}),v.invalid.daysOfWeek){var g,D=new Date(i,c,1).getDay();$.each(v.invalid.daysOfWeek,function(e,t){for(g=t-D;g<h;g+=7)g>=0&&y.push(g)})}v.invalid.daysOfMonth&&$.each(v.invalid.daysOfMonth,function(e,t){t=(t+"").split("/"),t[1]?t[0]-1==c&&y.push(t[1]-1):y.push(t[0]-1)}),$.each(y,function(e,t){$(".dw-li",w).eq(t).removeClass("dw-v")})}o[x[n]]=p}})},methods:{getDate:function(e){var t=$(this).spiceMobIScroll("getInst");if(t)return t.getDate(e?t.temp:t.values)},setDate:function(e,t,n,a){return void 0==t&&(t=!1),this.each(function(){var i=$(this).spiceMobIScroll("getInst");i&&i.setDate(e,t,n,a)})}}}};$.each(["date","time","datetime"],function(e,t){i.presets[t]=r,i.presetShort(t)}),i.formatDate=function(e,t,n){if(!t)return null;var a,i=$.extend({},s,n),o=function(t){for(var n=0;a+1<e.length&&e.charAt(a+1)==t;)n++,a++;return n},r=function(e,t,n){var a=""+t;if(o(e))for(;a.length<n;)a="0"+a;return a},l=function(e,t,n,a){return o(e)?a[t]:n[t]},d="",c=!1;for(a=0;a<e.length;a++)if(c)"'"!=e.charAt(a)||o("'")?d+=e.charAt(a):c=!1;else switch(e.charAt(a)){case"d":d+=r("d",t.getDate(),2);break;case"D":d+=l("D",t.getDay(),i[i.i18n].dayNamesShort,i[i.i18n].dayNames);break;case"o":d+=r("o",(t.getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5,3);break;case"m":d+=r("m",t.getMonth()+1,2);break;case"M":d+=l("M",t.getMonth(),i[i.i18n].monthNamesShort,i[i.i18n].monthNames);break;case"y":d+=o("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"h":var u=t.getHours();d+=r("h",u>12?u-12:0==u?12:u,2);break;case"H":d+=r("H",t.getHours(),2);break;case"i":d+=r("i",t.getMinutes(),2);break;case"s":d+=r("s",t.getSeconds(),2);break;case"a":d+=t.getHours()>11?"pm":"am";break;case"A":d+=t.getHours()>11?"PM":"AM";break;case"'":o("'")?d+="'":c=!0;break;default:d+=e.charAt(a)}return d},i.parseDate=function(e,t,n){var i=new Date;if(!e||!t)return i;t="object"==(void 0===t?"undefined":a(t))?t.toString():t+"";var o,r=$.extend({},s,n),l=r.shortYearCutoff,d=i.getFullYear(),c=i.getMonth()+1,u=i.getDate(),f=-1,h=i.getHours(),p=i.getMinutes(),w=0,m=-1,v=!1,b=function(t){var n=o+1<e.length&&e.charAt(o+1)==t;return n&&o++,n},y=function(e){b(e);var n="@"==e?14:"!"==e?20:"y"==e?4:"o"==e?3:2,a=new RegExp("^\\d{1,"+n+"}"),i=t.substr(T).match(a);return i?(T+=i[0].length,parseInt(i[0],10)):0},g=function(e,n,a){var i,o=b(e)?a:n;for(i=0;i<o.length;i++)if(t.substr(T,o[i].length).toLowerCase()==o[i].toLowerCase())return T+=o[i].length,i+1;return 0},x=function(){T++},T=0;for(o=0;o<e.length;o++)if(v)"'"!=e.charAt(o)||b("'")?x():v=!1;else switch(e.charAt(o)){case"d":u=y("d");break;case"D":g("D",r.dayNamesShort,r.dayNames);break;case"o":f=y("o");break;case"m":c=y("m");break;case"M":c=g("M",r[r.i18n].monthNamesShort,r[r.i18n].monthNames);break;case"y":d=y("y");break;case"H":h=y("H");break;case"h":h=y("h");break;case"i":p=y("i");break;case"s":w=y("s");break;case"a":m=g("a",["am","pm"],["am","pm"])-1;break;case"A":m=g("A",["am","pm"],["am","pm"])-1;break;case"'":b("'")?x():v=!0;break;default:x()}if(d<100&&(d+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d<=("string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10))?0:-100)),f>-1)for(c=1,u=f;;){var D=32-new Date(d,c-1,32).getDate();if(u<=D)break;c++,u-=D}h=-1==m?h:m&&h<12?h+12:m||12!=h?h:0;var S=new Date(d,c-1,u,h,p,w);if(S.getFullYear()!=d||S.getMonth()+1!=c||S.getDate()!=u)throw"Invalid date";return S}},function(e,t,n){"use strict";n(0);var a=$.spiceMobIScroll,i={column:3,wheelsStart:"1"},o=function(e){var t=$.extend({},e.settings),n=$.extend(e.settings,i,t),a=$(this),o={},s=n.customWheels,r=[],l=function(e){var t,a,i=[{}],e=e||[n.wheelsStart];r=[];for(var o=0;o<n.column;o++){r.push(o),a=e[o]?e[o]:Object.keys(t)[0],i[0][o]=t=s[a]||{}}return i};return{wheels:l(),onBeforeShow:function(e){$("input").blur();var t=a.attr("data-spice-default-value"),i=[n.wheelsStart];if(t){for(var o=t.split("/"),s=0;s<n.column-1;s++)i.push(o[s]);n.wheels=l(i),a.spiceMobIScroll("setValue",o)}},onSelect:function(e,t){},onChange:function(e,t){},validate:function(t,a,i){var s=e.temp,d=[n.wheelsStart];if(void 0!=a&&a<n.column-1){for(var c=0;c<=a;c++)d.push(s[c]);e.settings.wheels=l(d),e.changeWheel(r),clearTimeout(o[a]),o[a]=setTimeout(function(){},1e3*i)}},onClose:function(){setTimeout(function(){a.blur()},0)},onShow:function(e){$(".dwwl",e).on("mousedown touchstart",function(){clearTimeout(o[$(".dwwl",e).index(this)])})}}};$.each(["linkage"],function(e,t){a.presets[t]=o,a.presetShort(t)})},function(e,t,n){"use strict";n(0);var a=$.spiceMobIScroll,i={},o=function(e){var t=$.extend({},e.settings),n=$.extend(e.settings,i,t),a=$(this),o={};return{wheels:n.customWheels,onBeforeShow:function(e){a.spiceMobIScroll("setValue",[a.attr("data-spice-default-value")])},onSelect:function(e,t){},onChange:function(e,t){},validate:function(e,t,n){o[t]=setTimeout(function(){},1e3*n)},onClose:function(){setTimeout(function(){a.blur()},0)},onShow:function(e){$(".dwwl",e).on("mousedown touchstart",function(){clearTimeout(o[$(".dwwl",e).index(this)])})}}};$.each(["list"],function(e,t){a.presets[t]=o,a.presetShort(t)})},function(e,t,n){"use strict";function a(e,t){function n(e,t,n){if(e.stopPropagation(),e.preventDefault(),!J&&!a(t)&&!t.hasClass("dwa")){J=!0;var i=t.find(".dw-ul");d(i),clearInterval(le),le=setInterval(function(){n(i)},we.delay),n(i)}}function a(e){if($.isArray(we.readonly)){var t=$(".dwwl",R).index(e);return we.readonly[t]}return we.readonly}function i(e){var t='<div class="dw-bf">',n=ge[e],a=n.values?n:l(n),i=1,o=a.labels||[],s=a.values,r=a.keys||s;return $.each(s,function(e,n){i%20==0&&(t+='</div><div class="dw-bf">'),t+='<div role="option" aria-selected="false" class="dw-li dw-v" data-val="'+r[e]+'"'+(o[e]?' aria-label="'+o[e]+'"':"")+' style="height:'+j+"px;line-height:"+j+'px;"><div class="dw-i">'+n+"</div></div>",i++}),t+="</div>"}function d(e){ie=$(".dw-li",e).index($(".dw-v",e).eq(0)),oe=$(".dw-li",e).index($(".dw-v",e).eq(-1)),re=$(".dw-ul",R).index(e)}function h(e){var t=we.headerText;return t?"function"==typeof t?t.call(he,e):t.replace(/\{value\}/i,e):""}function m(){ue.temp=$e&&null!==ue.val&&ue.val!=pe.val()||null===ue.values?we.parseValue(pe.val()||"",ue):ue.values.slice(0),V()}function v(e){var t,n,a=window.getComputedStyle?getComputedStyle(e[0]):e[0].style;return x?($.each(["t","webkitT","MozT","OT","msT"],function(e,n){if(void 0!==a[n+"ransform"])return t=a[n+"ransform"],!1}),t=t.split(")")[0].split(", "),n=t[13]||t[5]):n=a.top.replace("px",""),Math.round(W-n/j)}function g(e,t){clearTimeout(ve[t]),delete ve[t],e.closest(".dwwl").removeClass("dwa")}function Y(e,t,n,a,i){var o=(W-n)*j,s=e[0].style;o==ye[t]&&ve[t]||(a&&o!=ye[t]&&A("onAnimStart",[R,t,a]),ye[t]=o,s[D+"Transition"]="all "+(a?a.toFixed(3):0)+"s ease-out",x?s[D+"Transform"]="translate3d(0,"+o+"px,0)":s.top=o+"px",ve[t]&&g(e,t),a&&i&&(e.closest(".dwwl").addClass("dwa"),ve[t]=setTimeout(function(){g(e,t)},1e3*a)),be[t]=n)}function H(e,t,n,a,i){!1!==A("validate",[R,t,e])&&($(".dw-ul",R).each(function(n){var o=$(this),s=$('.dw-li[data-val="'+ue.temp[n]+'"]',o),r=$(".dw-li",o),l=r.index(s),d=r.length,c=n==t||void 0===t;if(!s.hasClass("dw-v")){for(var u=s,f=s,h=0,p=0;l-h>=0&&!u.hasClass("dw-v");)h++,u=r.eq(l-h);for(;l+p<d&&!f.hasClass("dw-v");)p++,f=r.eq(l+p);(p<h&&p&&2!==a||!h||l-h<0||1==a)&&f.hasClass("dw-v")?(s=f,l+=p):(s=u,l-=h)}s.hasClass("dw-sel")&&!c||(ue.temp[n]=s.attr("data-val"),$(".dw-sel",o).removeClass("dw-sel"),we.multiple||($(".dw-sel",o).removeAttr("aria-selected"),s.attr("aria-selected","true")),s.addClass("dw-sel"),Y(o,n,l,c?e:.1,!!c&&i))}),P=we.formatResult(ue.temp,ue.settings.wheels),"inline"==we.display?V(n,0,!0):$(".dwv",R).html(h(P)),n&&A("onChange",[P]))}function A(e,n){var a;return n.push(ue),$.each([Z.defaults,me,t],function(t,i){i[e]&&(a=i[e].apply(he,n))}),a}function F(e,t,n,a,i){t=r(t,ie,oe);var o=$(".dw-li",e).eq(t),s=void 0===i?t:i,l=re,d=a?t==s?.1:Math.abs((t-s)*we.timeUnit):0;ue.temp[l]=o.attr("data-val"),Y(e,l,t,d,i),setTimeout(function(){H(d,l,!0,n,void 0!==i)},10)}function O(e){var t=be[re]+1;F(e,t>oe?ie:t,1,!0)}function N(e){var t=be[re]-1;F(e,t<ie?oe:t,2,!0)}function V(e,t,n,a){xe&&!n&&H(t),P=we.formatResult(ue.temp,ue.settings.wheels),a||(ue.values=ue.temp.slice(0),ue.val=P),e&&$e&&pe.val(P).trigger("change")}var W,j,P,R,L,q,z,E,U,_,B,X,Z,G,J,K,Q,ee,te,ne,ae,ie,oe,se,re,le,de,ce,ue=this,fe=$.spiceMobIScroll,he=e,pe=$(he),we=S({},I),me={},ve={},be={},ye={},ge=[],$e=pe.is("input"),xe=!1,Te=function(e){!o(e)||u||a(this)||J||(e.preventDefault(),u=!0,K="clickpick"!=we.mode,se=$(".dw-ul",this),d(se),Q=void 0!==ve[re],ae=Q?v(se):be[re],ee=s(e,"Y"),te=new Date,ne=ee,Y(se,re,ae,.001),K&&se.closest(".dwwl").addClass("dwa"),$(document).on(k,De).on(C,Se))},De=function(e){K&&(e.preventDefault(),e.stopPropagation(),ne=s(e,"Y"),Y(se,re,r(ae+(ee-ne)/j,ie-1,oe+1))),Q=!0},Se=function e(t){var n,a,i,o=new Date-te,s=r(ae+(ee-ne)/j,ie-1,oe+1),l=se.offset().top;if(o<300?(n=(ne-ee)/o,a=n*n/we.speedUnit,ne-ee<0&&(a=-a)):a=ne-ee,i=Math.round(ae-a/j),!a&&!Q){var d=Math.floor((ne-l)/j),c=$(".dw-li",se).eq(d),f=K;!1!==A("onValueTap",[c])?i=d:f=!0,f&&(c.addClass("dw-hl"),setTimeout(function(){c.removeClass("dw-hl")},200))}K&&F(se,i,0,!0,Math.round(s)),u=!1,se=null,$(document).off(k,De).off(C,e)},Me=function(e){var t=$(this);$(document).on(C,ke),t.hasClass("dwb-d")||t.addClass("dwb-a"),setTimeout(function(){t.blur()},10),t.hasClass("dwwb")&&o(e)&&n(e,t.closest(".dwwl"),t.hasClass("dwwbp")?O:N)},ke=function e(t){J&&(clearInterval(le),J=!1),$(document).off(C,e),$(".dwb-a",R).removeClass("dwb-a")},Ce=function(e){38==e.keyCode?n(e,$(this),N):40==e.keyCode&&n(e,$(this),O)},Ie=function(e){J&&(clearInterval(le),J=!1)},Ye=function(e){if(!a(this)){e.preventDefault(),e=e.originalEvent||e;var t=e.wheelDelta?e.wheelDelta/120:e.detail?-e.detail/3:0,n=$(".dw-ul",this);d(n),F(n,Math.round(be[re]-t),t<0?1:2)}};ue.position=function(e){if(!("inline"==we.display||L===$(window).width()&&z===$(window).height()&&e||!1===A("onPosition",[R]))){var t,n,a,i,o,s,l,d,c,u,f,h,p=0,w=0,m=$(window).scrollTop(),v=$(".dwwr",R),b=$(".dw",R),y={},g=void 0===we.anchor?pe:we.anchor;L=$(window).width(),z=$(window).height(),q=window.innerHeight,q=q||z,/modal|bubble/.test(we.display)&&($(".dwc",R).each(function(){t=$(this).outerWidth(!0),p+=t,w=t>w?t:w}),t=p>L?w:p,v.width(t).css("white-space",p>L?"":"nowrap")),E=b.outerWidth(),U=b.outerHeight(!0),_=U<=q&&E<=L,"modal"==we.display?(n=(L-E)/2,a=m+(q-U)/2):"bubble"==we.display?(h=!0,c=$(".dw-arrw-i",R),s=g.offset(),l=s.top,d=s.left,i=g.outerWidth(),o=g.outerHeight(),n=d-(b.outerWidth(!0)-i)/2,n=n>L-E?L-(E+20):n,n=n>=0?n:20,a=l-U,a<m||l>m+q?(b.removeClass("dw-bubble-top").addClass("dw-bubble-bottom"),a=l+o):b.removeClass("dw-bubble-bottom").addClass("dw-bubble-top"),u=c.outerWidth(),f=d+i/2-(n+(E-u)/2),$(".dw-arr",R).css({left:r(f,0,u)})):(y.width="100%","top"==we.display?a=m:"bottom"==we.display&&(a=m+q-U)),y.top=a<0?0:a,y.left=n,b.css(y),$(".dw-persp",R).height(0).height(a+U>$(document).height()?a+U:$(document).height()),h&&(a+U>m+q||l>m+q)&&$(window).scrollTop(a+U-q)}},ue.enable=function(){we.disabled=!1,$e&&pe.prop("disabled",!1)},ue.disable=function(){we.disabled=!0,$e&&pe.prop("disabled",!0)},ue.setValue=function(e,t,n,a){ue.temp=$.isArray(e)?e.slice(0):we.parseValue.call(he,e+"",ue),V(t,n,!1,a)},ue.getValue=function(){return ue.values},ue.getValues=function(){var e,t=[];for(e in ue._selectedValues)t.push(ue._selectedValues[e]);return t},ue.changeWheel=function(e,t){if(R){var n=0,a=e.length;$.each(we.wheels,function(o,s){if($.each(s,function(o,s){if($.inArray(n,e)>-1&&(ge[n]=s,$(".dw-ul",R).eq(n).html(i(n)),!--a))return ue.position(),H(t,void 0,!0),!1;n++}),!a)return!1})}},ue.isVisible=function(){return xe},ue.tap=function(e,t){var n,a;we.tap&&e.on("touchstart.dw",function(e){e.preventDefault(),n=s(e,"X"),a=s(e,"Y")}).on("touchend.dw",function(e){Math.abs(s(e,"X")-n)<20&&Math.abs(s(e,"Y")-a)<20&&t.call(this,e),f=!0,setTimeout(function(){f=!1},300)}),e.on("click.dw",function(e){f||t.call(this,e)})},ue.show=function(e){if(we.disabled||xe)return!1;"top"==we.display&&(B="slidedown"),"bottom"==we.display&&(B="slideup"),m(),A("onBeforeShow",[]);var t,n=0,a="";B&&!e&&(a="dw-"+B+" dw-in");var o='<div role="dialog" class="'+we.theme+" dw-"+we.display+(T?" dw"+T:"")+'">'+("inline"==we.display?'<div class="dw dwbg dwi"><div class="dwwr">':'<div class="dw-persp"><div class="dwo"></div><div class="dw dwbg '+a+'"><div class="dw-arrw"><div class="dw-arrw-i"><div class="dw-arr"></div></div></div><div class="dwwr"><div aria-live="assertive" class="dwv'+(we.headerText?"":" dw-hidden")+'"></div>')+'<div class="dwcc">';$.each(we.wheels,function(e,a){o+='<div class="dwc'+("scroller"!=we.mode?" dwpm":" dwsc")+(we.showLabel?"":" dwhl")+'"><div class="dwwc dwrc"><table cellpadding="0" cellspacing="0"><tr>',$.each(a,function(e,a){ge[n]=a,t=void 0!==a.label?a.label:e,o+='<td><div class="dwwl dwrc dwwl'+n+'">'+("scroller"!=we.mode?'<div class="dwb-e dwwb dwwbp" style="height:'+j+"px;line-height:"+j+'px;"><span>+</span></div><div class="dwb-e dwwb dwwbm" style="height:'+j+"px;line-height:"+j+'px;"><span>&ndash;</span></div>':"")+'<div class="dwl">'+t+'</div><div tabindex="0" aria-live="off" aria-label="'+t+'" role="listbox" class="dwww"><div class="dww" style="height:'+we.rows*j+"px;min-width:"+we.width+'px;"><div class="dw-ul">',o+=i(n),o+='</div><div class="dwwol"></div></div><div class="dwwo"></div></div><div class="dwwol"></div></div></td>',n++}),o+="</tr></table></div></div>"}),o+="</div>"+("inline"!=we.display?'<div class="dwbc'+(we.button3?" dwbc-p":"")+'"><span class="dwbw dwb-s"><span class="dwb dwb-e" role="button" tabindex="0">'+we.setText+"</span></span>"+(we.button3?'<span class="dwbw dwb-n"><span class="dwb dwb-e" role="button" tabindex="0">'+we.button3Text+"</span></span>":"")+'<span class="dwbw dwb-c"><span class="dwb dwb-e" role="button" tabindex="0">'+we.cancelText+"</span></span></div></div>":"")+"</div></div></div>",R=$(o),H(),A("onMarkupReady",[R]),"inline"!=we.display?(R.appendTo("body"),B&&!e&&(R.addClass("dw-trans"),setTimeout(function(){R.removeClass("dw-trans").find(".dw").removeClass(a)},350))):pe.is("div")?pe.html(R):R.insertAfter(pe),A("onMarkupInserted",[R]),xe=!0,Z.init(R,ue),"inline"!=we.display&&(ue.tap($(".dwb-s span",R),function(){ue.select()}),ue.tap($(".dwb-c span",R),function(){ue.cancel()}),we.button3&&ue.tap($(".dwb-n span",R),we.button3),$(window).on("keydown.dw",function(e){13==e.keyCode?ue.select():27==e.keyCode&&ue.cancel()}),we.scrollLock&&R.on("touchmove touchstart",function(e){_&&e.preventDefault()}),ue.position(),$(window).on("orientationchange.dw resize.dw scroll.dw",function(e){clearTimeout(X),X=setTimeout(function(){var t="scroll"==e.type;(t&&_||!t)&&ue.position(!t)},100)}),ue.alert(we.ariaDesc)),ue.tap($(".dwo",R),function(){ue.cancel()}),$(".dwwl",R).on("DOMMouseScroll mousewheel",Ye).on(M,Te).on("keydown",Ce).on("keyup",Ie),R.on(M,".dwb-e",Me).on("keydown",".dwb-e",function(e){32==e.keyCode&&(e.preventDefault(),e.stopPropagation(),$(this).click())}),A("onShow",[R,P])},ue.hide=function(e,t){if(!xe||!1===A("onClose",[P,t]))return!1;$(".dwtd").each(function(){$(this).prop("disabled",!1).removeClass("dwtd"),$(this).data("autocomplete")?$(this).attr("autocomplete",$(this).data("autocomplete")):$(this).removeAttr("autocomplete")}),R&&("inline"!=we.display&&B&&!e?(R.addClass("dw-trans").find(".dw").addClass("dw-"+B+" dw-out"),setTimeout(function(){R.remove(),R=null},350)):(R.remove(),R=null),$(window).off(".dw")),ye={},xe=!1,ce=!0,pe.focus()},ue.select=function(){!1!==ue.hide(!1,"set")&&(V(!0,0,!0),A("onSelect",[ue.val]))},ue.alert=function(e){w.text(e),clearTimeout(p),p=setTimeout(function(){w.text("")},5e3)},ue.cancel=function(){!1!==ue.hide(!1,"cancel")&&A("onCancel",[ue.val])},ue.init=function(e){Z=S({defaults:{},init:y},fe.themes[e.theme||we.theme]),G=fe.i18n[e.lang||we.lang],S(t,e),S(we,Z.defaults,G,t),ue.settings=we,pe.off(".dw");var n=fe.presets[we.preset];n&&(me=n.call(he,ue),S(we,me,t)),W=Math.floor(we.rows/2),j=we.height,B=we.animate,xe&&ue.hide(),"inline"==we.display?ue.show():(m(),$e&&(void 0===de&&(de=he.readOnly),he.readOnly=!0,we.showOnFocus&&pe.on("focus.dw",function(){ce||ue.show(),ce=!1})),we.showOnTap&&ue.tap(pe,function(){ue.show()}))},ue.trigger=function(e,t){return A(e,t)},ue.option=function(e,t){var n={};"object"===(void 0===e?"undefined":c(e))?n=e:n[e]=t,ue.init(n)},ue.destroy=function(){ue.hide(),pe.off(".dw"),delete b[he.id],$e&&(he.readOnly=de)},ue.getInst=function(){return ue},ue.values=null,ue.val=null,ue.temp=null,ue._selectedValues={},ue.init(t)}function i(e){var t;for(t in e)if(void 0!==g[e[t]])return!0;return!1}function o(e){if("touchstart"===e.type)h=!0;else if(h)return h=!1,!1;return!0}function s(e,t){var n=e.originalEvent,a=e.changedTouches;return a||n&&n.changedTouches?n?n.changedTouches[0]["page"+t]:a[0]["page"+t]:e["page"+t]}function r(e,t,n){return Math.max(t,Math.min(e,n))}function l(e){var t={values:[],keys:[]};return $.each(e,function(e,n){t.keys.push(e),t.values.push(n)}),t}function d(e,t,n){var i=e;return"object"===(void 0===t?"undefined":c(t))?e.each(function(){this.id||(v+=1,this.id="mobiscroll"+v),b[this.id]=new a(this,t)}):("string"==typeof t&&e.each(function(){var e,a=b[this.id];if(a&&a[t]&&void 0!==(e=a[t].apply(this,Array.prototype.slice.call(n,1))))return i=e,!1}),i)}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};/*!
 * jQuery MobiScroll v2.6.2
 * http://mobiscroll.com
 *
 * Copyright 2010-2013, Acid Media
 * Licensed under the MIT license.
 *
 */
n(6),n(5);var u,f,h,p,w,m=new Date,v=m.getTime(),b={},y=function(){},g=document.createElement("modernizr").style,x=i(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]),T=function(){var e,t=["Webkit","Moz","O","ms"];for(e in t)if(i([t[e]+"Transform"]))return"-"+t[e].toLowerCase();return""}(),D=T.replace(/^\-/,"").replace("moz","Moz"),S=$.extend,M="touchstart mousedown",k="touchmove mousemove",C="touchend mouseup",I={width:70,height:40,rows:3,delay:300,disabled:!1,readonly:!1,showOnFocus:!0,showOnTap:!0,showLabel:!0,wheels:[],theme:"",headerText:"{value}",display:"modal",mode:"scroller",preset:"",lang:"en-US",setText:"Set",cancelText:"Cancel",ariaDesc:"Select a value",scrollLock:!0,tap:!0,speedUnit:.0012,timeUnit:.1,formatResult:function(e,t){return e.join(" ")},parseValue:function(e,t){var n,a=e.split(" "),i=[],o=0;return $.each(t.settings.wheels,function(e,t){$.each(t,function(e,t){t=t.values?t:l(t),n=t.keys||t.values,-1!==$.inArray(a[o],n)?i.push(a[o]):i.push(n[0]),o++})}),i}};$(function(){w=$('<div class="dw-hidden" role="alert"></div>').appendTo("body")}),$(document).on("mouseover mouseup mousedown click",function(e){if(f)return e.stopPropagation(),e.preventDefault(),!1}),$.fn.spiceMobIScroll=function(e){return S(this,$.spiceMobIScroll.shorts),d(this,e,arguments)},$.spiceMobIScroll=$.spiceMobIScroll||{setDefaults:function(e){S(I,e)},presetShort:function(e){this.shorts[e]=function(t){return d(this,S(t,{preset:e}),arguments)}},has3d:x,shorts:{},presets:{},themes:{},i18n:{}}},function(e,t){},function(e,t){},function(e,t,n){"use strict";var a=["position","enable","disable","setValue","getValue","getValues","changeWheel","isVisible","tap","show","hide","select","alert","cancel","init","trigger","option","destroy","getInst"],i={preset:"list",theme:"spice-mobiscroll",mode:"scroller",display:"bottom",ariaDesc:"",customWheels:[{}],showLabel:!1,setText:"确定",cancelText:"取消",joinResult:"/"},o={funcList:function(e){var t={};return $.each(a,function(n,a){t[a]=function(){return e.spiceMobIScroll(a)}}),t}};$.spice=$.spice||{},n(4),n(3),n(2),n(1);var s=function(e,t){if(!e||$.isPlainObject(e))return!1;var n=[];return $(e).each(function(e,a){var s=$(a),r=s.data("spice.mobIScroll"),l=$.extend(!0,{},i,t),d=l.preset,c=null;r&&r.destroy(),"linkage"==d?c=function(e,t){var n=[];return $.each(t[0],function(t,a){n.push(a[e[t]])}),-1==$.inArray(void 0,n)?n.join(l.joinResult):$(".spice-mobiscroll .dwv").html()}:"list"==d&&(c=function(e,t){var n=[];return $.each(t[0],function(t,a){var i=a[e[t]];0!=i?n.push(i):n.length>0&&n.push(i)}),1==n.length&&n.unshift(0),n.join(l.joinResult)}),!l.formatResult&&c&&(l.formatResult=c),s.spiceMobIScroll(l),s.data("spice.mobIScroll",r=o.funcList(s)),n.push(r),s.removeAttr("disabled")}),1==$(e).length&&(n=n[0]),n};$.spice.MobIScroll=s,e.exports=s}])});